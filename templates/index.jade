html
    head
        if DEBUG
            title Node chat DEBUG
        else
            title Node chat
    body
        main(ui-view='')
    if DEBUG
        script(type='text/javascript',src='/lib/requirejs/require.js',data-main="/assets/config")

    script(type='text/ng-template', id='/tpls/index.html')
        h2 Users
        ul.users-list(ng-controller='UsersListCtrl')
            li.users-list__current-user(ng-controller='CurrentUserCtrl')
                span.users-list__current-user-name(ng-bind='users.current.name')
                //    input(id='new-name', ng-model='newName')
                //    button(ng-click='setCurrentUserName()', ng-if='newName') Change
            li.users-list__user(ng-repeat='user in users.others.collection')
                span.users-list__user-name(ng-bind='user.name')
        //    li.users-list__debug DEBUG:
        //        pre(ng-bind='users.others._idx|json:2')
        h2 Rooms
        ul.rooms-list(ng-controller='RoomsListCtrl')
            li.rooms-list__item(ng-repeat='room in rooms.all.collection')
                span(ng-bind='room.name')
            li.rooms-list__add-room
                input(ng-model='newRoomName')
                button(ng-click='createRoom()', ng-if='newRoomName') +
            //li.rooms-list__debug DEBUG:
            //    pre(ng-bind='rooms.all.collection|json')
